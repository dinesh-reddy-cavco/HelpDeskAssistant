# Azure AI Foundry Configuration (used by chatbot and ingestion)
# Foundry endpoint format: https://<foundry-resource>.cognitiveservices.azure.com
AZURE_FOUNDRY_ENDPOINT=https://foundry-v0-resource.cognitiveservices.azure.com
AZURE_FOUNDRY_API_KEY=your-foundry-api-key-here
AZURE_FOUNDRY_API_VERSION=2024-05-01-preview
AZURE_FOUNDRY_DEPLOYMENT_NAME=gpt-4.1

# Ingestion: embeddings (Azure AI Foundry, not Azure OpenAI resource)
AZURE_FOUNDRY_EMBEDDING_DEPLOYMENT=text-embedding-3-small
AZURE_FOUNDRY_EMBEDDING_DIMENSIONS=1536
EMBEDDING_BATCH_SIZE=10

# Azure AI Search (ingestion target)
# Endpoint must be reachable from this machine (DNS, firewall, VPN).
AZURE_SEARCH_ENDPOINT=https://your-service.search.windows.net
AZURE_SEARCH_KEY=your-search-admin-key
AZURE_SEARCH_INDEX_NAME=confluence-chunks
# Set to 1 to skip index create/update (use when index already exists or create fails due to network).
# INGESTION_SKIP_INDEX_CREATE=0

# Confluence (ingestion source)
CONFLUENCE_BASE_URL=https://your-domain.atlassian.net/wiki
CONFLUENCE_EMAIL=your-email@company.com
CONFLUENCE_API_TOKEN=your-confluence-api-token
CONFLUENCE_SPACE_KEY=YOURSPACE
CONFLUENCE_PAGE_LIMIT=1000

# Chunking (optional; defaults in ingestion/config.py)
# CHUNK_TARGET_TOKENS=500
# CHUNK_MIN_TOKENS=400
# CHUNK_MAX_TOKENS=600
# CHUNK_OVERLAP_TOKENS=75
# CHUNK_OVERLAP_MIN=50
# CHUNK_OVERLAP_MAX=100

# RAG Chat (backend)
AZURE_SEARCH_ENDPOINT=https://your-service.search.windows.net
AZURE_SEARCH_KEY=your-search-admin-key
AZURE_SEARCH_INDEX_NAME=confluence-chunks
AZURE_FOUNDRY_EMBEDDING_DEPLOYMENT=text-embedding-3-small
RAG_TOP_K=5
CONFIDENCE_THRESHOLD=0.65

# Application Configuration
APP_ENV=development
LOG_LEVEL=INFO
